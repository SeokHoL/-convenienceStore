<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>편의점 관리 시스템</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
        }

        .top-bar {
            background-color: #007bff;
            color: white;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .logout-btn {
            background-color: transparent;
            border: 1px solid white;
            color: white;
            padding: 5px 15px;
            font-size: 0.9rem;
            border-radius: 5px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background-color: white;
            color: #007bff;
            text-decoration: none;
        }

        .container-fluid {
            display: flex;
            margin-top: 20px;
        }

        .sidebar {
            background-color: #f4f4f9;
            width: 250px;
            padding: 20px;
            border-right: 2px solid #ddd;
        }

        .sidebar a {
            display: block;
            text-decoration: none;
            color: #333;
            padding: 10px 15px;
            margin: 5px 0;
            border-radius: 5px;
        }

        .sidebar a:hover {
            background-color: #007bff;
            color: white;
        }

        .submenu {
            margin-left: 20px;
            margin-top: 5px;
            display: none;
        }

        .submenu a {
            font-size: 0.9rem;
        }

        .content {
            flex: 1;
            padding: 20px;
        }

        .content h1 {
            font-size: 1.8rem;
            color: #333;
            margin-bottom: 20px;
        }

        .table-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background-color: #007bff;
            border: none;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }
    </style>
    <script>
        // Toggle submenu visibility
        function toggleSubmenu(menuId) {
            const submenu = document.getElementById(menuId);
            submenu.style.display = submenu.style.display === "block" ? "none" : "block";
        }
    </script>
</head>
<body>
<div class="top-bar">
    <span>편의점 관리 시스템</span>
    <a href="/logout" class="logout-btn">로그아웃</a>
</div>

<div class="container-fluid">
    <!-- Sidebar -->
    <div class="sidebar">
        <a href="#" onclick="toggleSubmenu('inboundMenu')">입고관리</a>
        <div id="inboundMenu" class="submenu">
            <a href="#" onclick="toggleSubmenu('purchaseMenu')">구매발주</a>
            <div id="purchaseMenu" class="submenu">
                <a href="#">구매발주등록</a>
                <a href="#">구매발주취소</a>
                <a href="#">구매발주조회</a>
            </div>
            <a href="#">구매입고</a>
            <a href="#">기타발주</a>
            <a href="#">기타입고</a>
        </div>
        <a href="#">출고관리</a>
        <a href="#">물류현황관리</a>
        <a href="#">기준정보관리</a>
        <a href="#">시스템관리</a>
        <a href="/user-management">사용자관리</a> <!-- 경로 추가 -->
    </div>

    <!-- Content Area -->
    <div class="content">
        <h1>구매발주 등록</h1>
        <div class="table-container">
            <h4 class="mb-3">구매 발주 목록</h4>
            <table class="table table-striped table-hover">
                <thead class="table-primary">
                <tr>
                    <th>No</th>
                    <th>품목코드</th>
                    <th>품목타입</th>
                    <th>수량</th>
                    <th>구매 가격</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1</td>
                    <td>A1010</td>
                    <td>음료</td>
                    <td>50</td>
                    <td>55</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>B2020</td>
                    <td>면</td>
                    <td>35</td>
                    <td>40</td>
                </tr>
                </tbody>
            </table>
            <div class="d-flex justify-content-between mt-3">
                <p><strong>총수량:</strong> XXX</p>
                <p><strong>총금액:</strong> XXX</p>
            </div>
            <button class="btn btn-primary mt-4">구매 발주 등록</button>
        </div>
    </div>

    <!-- 사용자 관리 섹션 -->
    <div id="user-management" class="section hidden">
        <h1>사용자 정보 관리</h1>
        <!-- 검색 필터 -->
        <form class="mt-3" method="get" action="/user-management">
            <div class="row">
                <div class="col-md-4">
                    <input type="text" name="userId" class="form-control" placeholder="사용자ID" />
                </div>
                <div class="col-md-4">
                    <input type="text" name="username" class="form-control" placeholder="사용자명" />
                </div>
                <div class="col-md-4">
                    <input type="text" name="branch" class="form-control" placeholder="지점" />
                </div>
            </div>
            <button type="submit" class="btn btn-primary mt-3">검색</button>
        </form>

        <!-- 사용자 목록 -->
        <table class="table table-bordered mt-4">
            <thead>
            <tr>
                <th>사용자ID</th>
                <th>사용자명</th>
                <th>권한그룹</th>
                <th>부서</th>
                <th>직책</th>
                <th>입사일자</th>
                <th>퇴사일자</th>
                <th>로그인 실패 횟수</th>
                <th>수정일시</th>
                <th>수정자</th>
            </tr>
            </thead>
            <tbody>
            <!-- 실제 데이터베이스에서 가져온 사용자 정보 -->
            <tr th:each="user : ${users}">
                <td th:text="${user.userId}"></td>
                <td th:text="${user.username}"></td>
                <td th:text="${user.permissionGroup}"></td>
                <td th:text="${user.department}"></td>
                <td th:text="${user.position}"></td>
                <td th:text="${user.joinDate}"></td>
                <td th:text="${user.leaveDate}"></td>
                <td th:text="${user.failedLoginResetCount}"></td>
                <td th:text="${user.lastModified}"></td>
                <td th:text="${user.lastModifiedBy}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</div>

<script>
    function showSection(sectionId) {
        // 모든 섹션 숨기기
        document.querySelectorAll('.section').forEach(section => {
            section.classList.add('hidden');
        });

        // 선택된 섹션 표시
        document.getElementById(sectionId).classList.remove('hidden');
    }
</script>
</div>
</body>
</html>
